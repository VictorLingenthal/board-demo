{"version":3,"sources":["services/statusService.ts","services/apolloClient.ts","utils/createevent.ts","reducers/globalreducer.ts","reducers/useCards.ts","reducers/useUsers.ts","services/cardService.ts","services/userService.ts","hooks/initBoard.ts","components/header.tsx","utils/utils.ts","components/card.tsx","components/column.tsx","components/board.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["StatusService","statusTypes","getStatusByValue","value","filter","i","this","label","instance","apolloClient","ApolloClient","cache","InMemoryCache","addTypename","uri","createEvent","invokeList","event","e","add","remove","c","globalReducer","initialValue","reducer","onStateChange","undefined","state","onChange","dispatch","Object","keys","reduce","p","params","newState","selector","onComponentStateChanged","useState","componentState","setComponentState","useEffect","onComponentChange","newComponentState","deleteCard","id","addCard","card","addCards","cards","setStatus","status","map","setTitle","title","setOwner","owner","addUser","user","addUsers","users","deleteUser","CardService","titleTimeouts","convertServerCard","statusService","getInstance","creator","date","getCards","query","gql","then","res","data","catch","error","mutate","variables","mutation","console","log","update","param","updateStatus","selectedDropdown","updateOwner","updateTitle","oldTitle","timeout","timeouts","newTimeout","setTimeout","clearTimeout","newTitleTimeout","expandUsers","u","name","UserService","getUsers","err","Header","useUsers","userInput","setUserInput","userDropdown","setUserDropdown","className","placeholder","currentTarget","onClick","options","isClearable","capitalize","s","charAt","toUpperCase","slice","CardComp","props","useCards","editTitle","setEditTitle","deletePending","setDeletePending","_toggleTitle","cardService","model","autoFocus","onBlur","finally","Column","cardModel","Board","loadStatus","loading","InitBoard","Columns","App","StrictMode","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c95feebe.chunk.js","sourcesContent":["\nexport type CardStatusValue = 'backlog' | 'todo' | 'inprogress' | 'resolved' | 'won\\'t fix'\ntype CardStatusLabel = 'Backlog' | 'To Do' | 'In Progress' | 'Resolved' | 'Won\\'t Fix'\n\nexport type CardStatus = {\n  value: CardStatusValue\n  label: CardStatusLabel\n}\n\nexport interface IStatusService {\n  statusTypes: CardStatus[]\n  getStatusByValue(value:CardStatusValue):CardStatus\n}\n\nexport default class StatusService implements IStatusService {\n\n  private static instance: StatusService;\n  public statusTypes:CardStatus[]\n\n  private constructor() {\n    this.statusTypes = [\n        {value:'backlog', label:'Backlog'},\n        {value:'todo', label:'To Do'},\n        {value:'inprogress', label:'In Progress'},\n        {value:'resolved', label:'Resolved'},\n        {value:'won\\'t fix', label:'Won\\'t Fix'}\n    ]\n  }\n\n  public static getInstance(): StatusService {\n      if (!StatusService.instance)\n          StatusService.instance = new StatusService();\n\n      return StatusService.instance;\n  }\n\n  public getStatusByValue = (value:CardStatusValue):CardStatus =>\n    this.statusTypes.filter(i => i.value === value)[0]\n\n}\n","\nimport { ApolloClient, InMemoryCache } from '@apollo/client';\n\nexport const apolloClient = new ApolloClient({\n  cache: new InMemoryCache({\n    addTypename: false\n  }),\n  uri: '/graphql',\n});\n","/**\n * Creates a new event that allows subscribers to add and remove event handlers.\n * @return {function}\n * @property {function(handler: function)} add Add a new event handler.\n * @property {function(handler: function)} remove Remove an event handler.\n */\nexport default function createEvent() {\n  let invokeList:any[] = [];\n\n  const event = (...args:any[]) => {\n    for (const e of invokeList) {\n      e(...args);\n    }\n  };\n\n  event.add = (e:any) => {\n    invokeList = [...invokeList, e];\n  };\n\n  event.remove = (e:any) => {\n    invokeList = invokeList.filter(c => c !== e);\n  };\n\n  return event;\n}\n","import { useEffect, useState } from \"react\";\n\nimport createEvent from \"../utils/createevent\";\n\n/**\n * Creates a global reducer for use within any number of components. The function returned allows for a selector function to be passed to limit the re-renders of the consuming component.\n *\n * @param {Object} initialValue The initial value for the state.\n * @param {Object} reducer The dispatch functions.\n * @param {function(state: Object)} [onStateChange=undefined] onStateChange An optional callback for when the state changes. Can be used for persisting to local storage.\n * @return {function(selector: function = undefined, onComponentStateChanged: function = undefined): [Object, Object]}\n */\nexport default function globalReducer(\n  initialValue:any[],\n  reducer:any,\n  onStateChange:any = undefined\n) {\n  let state = initialValue;\n  const onChange = createEvent();\n\n  const dispatch = Object.keys(reducer).reduce(\n    (p, c) => ({\n      ...p,\n      [c]: (...params:any[]) => {\n        const newState = reducer[c](state, ...params);\n\n        if (state !== newState) {\n          state = newState;\n          onChange(newState);\n\n          if (onStateChange)\n            onStateChange(newState);\n\n        }\n      }\n    }),\n    {}\n  );\n\n  return (selector:any = undefined, onComponentStateChanged:any = undefined) => {\n    const [componentState, setComponentState] = useState(\n      selector ? selector(state) : state\n    );\n    useEffect(\n      () => {\n        const onComponentChange = (newState:any[]) => {\n          const newComponentState = selector ? selector(newState) : newState;\n\n          if (newComponentState !== componentState) {\n            setComponentState(newComponentState);\n\n            if (onComponentStateChanged) {\n              onComponentStateChanged(newComponentState);\n            }\n          }\n        };\n\n        onChange.add(onComponentChange);\n\n        return () => {\n          onChange.remove(onComponentChange);\n        };\n      },\n      [componentState]\n    );\n    return [componentState, dispatch];\n  };\n}\n","import globalReducer from \"./globalreducer\"\n\nimport { CardStatus } from '../services/statusService'\n\nexport type Card = {\n  id: string\n  title: string\n  status: CardStatus\n  owner: string\n  creator: string\n  date: Date\n}\n\ninterface ICardReducer {\n  deleteCard(state:Card[], id:string):void\n  addCard(state:Card[], card:Card):Card[]\n  addCards(state:Card[], cards:Card[]):Card[]\n  setStatus(state:Card[], id:string, status:CardStatus):Card[]\n  setTitle(state:Card[], id:string, title:string):Card[]\n  setOwner(state:Card[], id:string, owner:string):Card[]\n}\n\nexport interface ICardDispatcher {\n  deleteCard(id:string):void\n  addCard(card:Card):void\n  addCards(cards:Card[]):void\n  setStatus(id:string, status:CardStatus):void\n  setTitle(id:string, title:string):void\n  setOwner(id:string, owner:string):void\n}\n\nexport const reducer:ICardReducer = {\n  // Delete a card by id\n  deleteCard: (state:Card[], id:string) => state.filter(i => i.id !== id),\n\n  // Create a new card\n  addCard: (state:Card[], card:Card):Card[] => [card, ...state],\n\n  // Add multiple new cards\n  addCards: (state:Card[], cards:Card[]):Card[] => [...cards, ...state],\n\n  // Set the status of an item\n  setStatus: (state:Card[], id:string, status:CardStatus):Card[] =>\n    state.map(i =>\n      i.id === id\n        ? {\n            ...i,\n            status\n          }\n        : i\n    ),\n\n  // Set the label of an item\n  setTitle: (state:Card[], id:string, title:string):Card[] =>\n    state.map(i =>\n      i.id === id\n        ? {\n            ...i,\n            title\n          }\n        : i\n    ),\n\n    // Set the owner of an item\n    setOwner: (state:Card[], id:string, owner:string):Card[] =>\n      state.map(i =>\n        i.id === id\n          ? {\n              ...i,\n              owner\n            }\n          : i\n      )\n\n}\n\nexport default globalReducer(\n  // Load cards from local storage\n  // JSON.parse(localStorage.getItem(\"cards\") || \"[]\"),\n  [],\n  reducer\n  // On state change, persist to local storage\n  // cards => localStorage.setItem(\"cards\", JSON.stringify(cards))\n)\n","import globalReducer from \"./globalreducer\";\n\nexport type User = {\n  value: string\n  label: string\n  id: string\n}\n\ninterface IUserReducer {\n  addUser(state:User[],user:User):User[]\n  addUsers(state:User[], users:User[]):User[]\n  deleteUser(state:User[], id:string):User[]\n}\n\nexport const reducer:IUserReducer = {\n\n  // Create a new user\n  addUser: (state:User[], user:User):User[] => [user, ...state],\n\n  // Add a user Array\n  addUsers: (state:User[], users:User[]):User[] => [...users, ...state],\n\n  // Delete a user by id\n  deleteUser: (state:User[], id:string):User[] => state.filter(i => i.id !== id),\n\n};\n\nexport interface IUserDispatcher {\n  addUser(user:User[]):void\n  addUsers(users:User[]):void\n  deleteUser(id:string):void\n}\n\nexport default globalReducer(\n  // Load users from local storage\n  // JSON.parse(localStorage.getItem(\"users\") || \"[]\"),\n  [],\n  reducer,\n  // On state change, persist to local storage\n  // users => localStorage.setItem(\"users\", JSON.stringify(users))\n);\n","import statusService, { CardStatus, CardStatusValue } from '../services/statusService'\nimport { Card, ICardDispatcher } from '../reducers/useCards'\nimport { User } from '../reducers/useUsers'\n\nimport { gql } from '@apollo/client';\nimport { ApolloClient, NormalizedCacheObject } from '@apollo/client'\n\ntype ServerCard = {\n  id: string\n  title: string\n  status: CardStatusValue\n  owner: string\n  creator: string\n  date: Date\n}\n\nexport interface ICardService {\n  addCard(addCard:Function, status:CardStatus):Promise<any>\n  getCards(addCard:Function):Promise<any>\n  updateStatus(setTatus:Function, id:string, status:CardStatus):Promise<void>\n  updateOwner(setOwner:Function, id:string, owner:User):Promise<void>\n  updateTitle(setTitle:Function, id:string, oldtitle:string, newtitle:string):Promise<void>\n  deleteCard(deleteCard:Function, id:string):Promise<void>\n}\n\ntype TitleTimeout = {\n  id: string\n  oldTitle: string\n  timeout: any\n}\n\nexport class CardService implements ICardService {\n\n  private static instance:ICardService\n\n  private titleTimeouts:TitleTimeout[]\n  private apolloClient:ApolloClient<NormalizedCacheObject>\n\n  private constructor (apolloClient:ApolloClient<NormalizedCacheObject>) {\n    this.apolloClient = apolloClient\n    this.titleTimeouts = []\n  }\n\n  public static getInstance = (apolloClient?: ApolloClient<NormalizedCacheObject>): ICardService => {\n    if (!CardService.instance && apolloClient) {\n        CardService.instance = new CardService(apolloClient)\n    }\n\n    return CardService.instance;\n  }\n\n  // converts the Card from the Server model to the client model\n  private convertServerCard = (card:ServerCard):Card => {\n    return {\n      id: card.id,\n      title: card.title,\n      status: statusService.getInstance().getStatusByValue(card.status),\n      owner: card.owner,\n      creator: card.creator,\n      date: card.date\n    }\n  }\n\n  // gets All Cards from Server\n  public getCards = (addCards:Function):Promise<any> =>\n    this.apolloClient.query({\n        query: gql`{\n            cards {\n              title\n              id\n              status\n              owner\n              creator\n              date\n            }\n          }`,\n      })\n      .then(res => {\n        addCards((res.data.cards as ServerCard[])\n          .map(card => this.convertServerCard(card)))\n        return true\n      })\n      .catch(error => false)\n\n\n  // Adds a new Cards\n  public addCard = (addCard:Function, status:CardStatus):Promise<void> => {\n    return this.apolloClient.mutate({\n        variables: {status: status.value},\n        mutation: gql`\n          mutation AddCard($status: String) {\n            addCard(status: $status) {\n              title\n              id\n              status\n              owner\n              creator\n              date\n            }\n          }`,\n      })\n      .then(res => addCard(this.convertServerCard(res.data.addCard)))\n      .catch(error => console.log(\"Error: \" + error))\n    }\n\n  private update = (id:string, param:any):Promise<void> => {\n    return this.apolloClient.mutate({\n      variables: {id, card: param},\n      mutation: gql`\n        mutation UpdateCard($id: ID, $card:CardInput) {\n          updateCard(id: $id, card:$card) {\n            title\n            id\n            status\n            owner\n            creator\n            date\n          }\n        }`,\n    })\n    .then(res => {\n      // return this.dispatcher.addCard(this.convertServerCard(res.data.updateCard))\n    })\n    .catch(error => console.log(\"Error: \" + error))\n  }\n\n\n  public updateStatus = (setStatus:Function, id: string, selectedDropdown:CardStatus):Promise<void> => {\n    setStatus(id, selectedDropdown)\n    return this.update(id, {status: selectedDropdown.value})\n  }\n\n  public updateOwner = (setOwner:Function, id: string, selectedDropdown:any):Promise<void> => {\n    var owner = selectedDropdown ? selectedDropdown.value : null\n    setOwner(id, owner)\n    return this.update(id, {owner})\n  }\n\n  public updateTitle = (setTitle:Function, id:string, oldTitle:string, title:string):any => {\n\n    let timeout = this.titleTimeouts.filter(timeouts => timeouts.id === id)[0]\n    let newTimeout = () => setTimeout(() => {\n      this.titleTimeouts = this.titleTimeouts.filter(timeouts => !(timeouts.id === id))\n      return this.update(id, {title})\n    }, 2000)\n\n    if (timeout) {\n      clearTimeout(timeout.timeout)\n      timeout.timeout = newTimeout()\n    } else {\n      let newTitleTimeout = {\n        id, oldTitle,\n        timeout: newTimeout()\n      }\n      this.titleTimeouts = [newTitleTimeout, ...this.titleTimeouts]\n    }\n\n    setTitle(id, title)\n  }\n\n  public deleteCard = (deleteCard:Function ,id:string):Promise<void> =>\n    this.apolloClient.mutate({\n      variables: {id},\n      mutation: gql`\n        mutation DeleteCard($id: ID) {\n          deleteCard(id: $id)\n        }`,\n    })\n    .then(() => deleteCard(id))\n    .catch(error => console.log(error))\n\n}\n","import { User } from '../reducers/useUsers'\nimport { gql } from '@apollo/client';\n\nimport { ApolloClient, NormalizedCacheObject } from '@apollo/client'\n\ntype ServerUser = {\n  id: string\n  name: string\n}\n\nexport interface IUserService {\n  getUsers(addUsers:Function):Promise<any>\n  addUser(addUser:Function, name:string):Promise<string>\n  deleteUser(deleteUser:Function, id:string):Promise<void>|null\n}\n\n// converts users into format for the dropdown\nconst expandUsers = (u:ServerUser[]):User[] =>\n  u.map(i => ({value:i.name, label:i.name, id: i.id}))\n\n\nexport class UserService implements IUserService {\n\n  private static instance:IUserService\n  apolloClient:ApolloClient<NormalizedCacheObject>\n\n  private constructor (apolloClient:ApolloClient<NormalizedCacheObject>) {\n    this.apolloClient = apolloClient\n  }\n\n  public static getInstance = (apolloClient?: ApolloClient<NormalizedCacheObject>):IUserService => {\n    if (!UserService.instance && apolloClient) {\n        UserService.instance = new UserService(apolloClient)\n    }\n\n    return UserService.instance;\n  }\n\n  // gets All Users from Server\n  public getUsers = (addUsers:Function):Promise<void> =>\n    this.apolloClient.query({\n      query: gql`{\n          users {\n            name\n            id\n          }\n        }`,\n    })\n    .then(res => addUsers(expandUsers(res.data.users)))\n    .catch(err => console.log(err))\n\n  // Adds a new Users\n  public addUser = (addUser:Function, name:string):Promise<any> =>\n    this.apolloClient.mutate({\n      variables: {name},\n      mutation: gql`\n        mutation AddUser($name: String) {\n          addUser(name: $name) {\n            id\n            name\n          }\n        }`,\n    })\n    .then(res => addUser(expandUsers([res.data.addUser])))\n    .catch(err => console.log(err))\n\n  // Deletes a User\n  public deleteUser = (deleteUser:Function, id:string):Promise<void>|null =>\n    id ? this.apolloClient.mutate({\n        variables: {id},\n        mutation: gql`\n          mutation DeleteUser($id: ID) {\n            deleteUser(id: $id)\n          }`,\n      })\n      .then(res => deleteUser(id))\n      .catch(err => console.log(err)) : null\n\n}\n","\nimport { useEffect, useState } from 'react'\n\nimport { apolloClient } from '../services/apolloClient'\n\nimport useCards, { Card, ICardDispatcher } from '../reducers/useCards'\nimport useUsers, { User, IUserDispatcher } from '../reducers/useUsers'\n\nimport { CardService } from '../services/cardService'\nimport { UserService } from '../services/userService'\n\nexport const InitBoard = () => {\n\n  const [cards, { addCards }]:[Card[], ICardDispatcher] = (useCards as any)()\n  const [users, { addUsers }]:[User[], IUserDispatcher] = (useUsers as any)()\n\n  const [status, setStatus] = useState({loading: true })\n\n  useEffect(() => {\n    let cardService = CardService.getInstance(apolloClient)\n    cardService.getCards(addCards)\n      .then(() => setStatus({ ...status, loading: false }))\n    let userService = UserService.getInstance(apolloClient)\n    userService.getUsers(addUsers)\n  },[])\n\n  return status\n}\n","import React, { FC, useState } from 'react';\n\nimport { UserService } from '../services/userService'\nimport useUsers, { User, IUserDispatcher } from '../reducers/useUsers'\n\nimport './scss/header.scss'\n\nimport Select from 'react-select'\n\nlet Header: FC = () => {\n\n  const [users, { addUser, deleteUser }]:[User[], IUserDispatcher] = (useUsers as any)()\n\n  const [userInput, setUserInput] = useState<string>()\n  const [userDropdown, setUserDropdown] = useState<User>()\n\n  let _onClickAddUser = () => {\n    if (userInput)\n      UserService.getInstance().addUser(addUser, userInput)\n    setUserInput('')\n  }\n\n  let _onChangeInput = (e:React.ChangeEvent<HTMLInputElement>) => setUserInput(e.currentTarget.value)\n  let _onChangeUser = (selectedDropdown:any) => setUserDropdown(selectedDropdown)\n  let _onClickDeleteUser = () => UserService.getInstance().deleteUser(deleteUser,userDropdown ? userDropdown.id : '')\n\n  return (\n    <header className=\"boardHeader\">\n      <input\n        placeholder=\"New Username\"\n        value={userInput}\n        onChange={_onChangeInput}/>\n      <button onClick={_onClickAddUser}>Add User</button>\n      <Select\n        className=\"deleteUser\"\n        options={users}\n        value={userDropdown}\n        placeholder=\"Pick User\"\n        isClearable={true}\n        onChange={_onChangeUser}\n      />\n      <button onClick={_onClickDeleteUser}>Delete User</button>\n    </header>\n  )\n}\n\nexport default Header;\n","export function guid():string {\n  var s4 = () => {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n  };\n\n  return `${s4()}${s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\n}\n\nconst capitalize = (s:string|null):string => {\n  if (typeof s !== 'string') return ''\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\nexport default capitalize\n","import React, { FC, useState } from 'react'\n\nimport './scss/card.scss'\n\nimport Select from 'react-select'\nimport TextareaAutosize from 'react-textarea-autosize'\nimport statusService from '../services/statusService'\nimport { CardService, ICardService } from '../services/cardService'\nimport useCards, { Card, ICardDispatcher } from '../reducers/useCards'\nimport useUsers, { User, IUserDispatcher } from '../reducers/useUsers'\nimport capitalize from \"../utils/utils\"\n\nlet CardComp: FC<{\n  model:Card\n}> = (props) => {\n\n  const [cards, { setStatus, setOwner, setTitle, deleteCard }]:[Card[], ICardDispatcher] = (useCards as any)()\n  const [users]:[User[], IUserDispatcher] = (useUsers as any)()\n\n  let [editTitle, setEditTitle] = useState<boolean>(false)\n  let [deletePending, setDeletePending] = useState<boolean>(false)\n  let _toggleTitle = () => setEditTitle(!editTitle)\n\n  let cardService = CardService.getInstance()\n  let _onChangeStatus = (selectedDropdown:any) =>\n    cardService.updateStatus(setStatus, props.model.id, selectedDropdown)\n  let _onChangeOwner = (selectedDropdown:any) =>\n    cardService.updateOwner(setOwner, props.model.id, selectedDropdown)\n  let _onChangeInput = (e:React.ChangeEvent<HTMLTextAreaElement>) =>\n    cardService.updateTitle(setTitle, props.model.id, props.model.title, e.currentTarget.value)\n  let _onDeleteButton = () => {\n    setDeletePending(true)\n    cardService.deleteCard(deleteCard, props.model.id)\n      .catch(error => console.log(error))\n      .finally(() => setDeletePending(false))\n  }\n\n  return (\n    <div className={`card ${deletePending ? \"deletePending\" : \"\"}`}>\n\n      <header>\n        <Select\n          className=\"selectOwner\"\n          options={users}\n          value={{\n            value: props.model.owner,\n            label: capitalize(props.model.owner),\n            id: props.model.id\n          }}\n          placeholder=\"Owner\"\n          isClearable={true}\n          onChange={_onChangeOwner}\n        />\n        <Select\n          className=\"selectStatus\"\n          options={statusService.getInstance().statusTypes}\n          value={props.model.status}\n          placeholder=\"Status\"\n          onChange={_onChangeStatus}\n        />\n      </header>\n\n      <main>\n\n        { !editTitle &&\n          <div onClick={_toggleTitle}\n          >{props.model.title}</div>\n        }\n\n        { editTitle  &&\n          <TextareaAutosize\n            placeholder=\"Enter Title\"\n            autoFocus\n            value={props.model.title}\n            onChange={_onChangeInput}\n            onBlur={_toggleTitle}\n        />}\n\n      </main>\n\n      <button\n        className=\"deleteButton\"\n        onClick={_onDeleteButton}\n      >X</button>\n\n    </div>\n  )\n}\n\n\nexport default CardComp\n","import React, { FC } from 'react'\nimport './scss/column.scss'\n\nimport CardComp from './card'\nimport { CardStatus } from '../services/statusService'\nimport useCards, { Card, ICardDispatcher} from '../reducers/useCards'\nimport { CardService } from '../services/cardService'\n\nlet Column: FC<{\n  status:CardStatus\n}> = (props) => {\n  \n  const [cards, { addCard }]:[Card[], ICardDispatcher] = (useCards as any)()\n  let _onClick = () => CardService.getInstance().addCard(addCard, props.status)\n\n  return (\n    <div className=\"column\">\n      <header className=\"columnHeader\">\n        {props.status.label}\n        <button onClick={_onClick}>+</button>\n      </header>\n      <main className=\"columnMain\">\n        {cards.filter(\n          card => card.status.value === props.status.value).map((\n            cardModel =>\n              <CardComp\n                key={cardModel.id}\n                model={cardModel}\n              ></CardComp>\n        ))}\n      </main>\n    </div>\n  )\n}\n\nexport default Column\n","import React, { FC} from 'react';\nimport './scss/board.scss';\n\nimport StatusService, { CardStatus } from '../services/statusService'\nimport { InitBoard } from '../hooks/initBoard'\n\nimport Header from './header'\nimport Column from './column'\n\nlet Board: FC = () => {\n\n  const loadStatus = InitBoard();\n\n  let Columns = StatusService.getInstance().statusTypes.map(((status:CardStatus) =>\n    <Column\n      key={status.label}\n      status={status}\n    ></Column>\n  ))\n\n  return (\n    <div className=\"board\">\n      <Header/>\n      <main className=\"boardmain\">\n        {\n          loadStatus.loading ?\n          \"Loading\" :\n          Columns\n        }\n      </main>\n    </div>\n  );\n}\n\nexport default Board;\n","import React from 'react';\nimport './App.scss';\n\nimport Board from './components/board'\n\nfunction App() {\n\n  return (\n    <React.StrictMode>\n      <div className=\"App\">\n        <Board></Board>\n      </div>\n    </React.StrictMode>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}